var myCode = `
// Write your code below:
function handleFormSubmit(event) {
  event.preventDefault();

  const userId = event.target.id;

  const nameInput = document.getElementById("name");
  const emailInput = document.getElementById("email");

  // populate inputs (edit functionality)
  nameInput.value = event.target.getAttribute("data-name");
  emailInput.value = event.target.getAttribute("data-email");

  // delete old user
  axios.delete(https://crudcrud.com/api/1d6449f81867439d99089ad9ad11f665/{userId})
    .then(() => {
      event.target.parentElement.remove();
    })
    .catch((error) => {
      console.log(error);
    });

  // submit edited data
  const updatedUser = {
    name: nameInput.value,
    email: emailInput.value
  };

  axios.post("https://crudcrud.com/api/1d6449f81867439d99089ad9ad11f665", updatedUser)
    .then((response) => {
      console.log(response.data);
    })
    .catch((error) => {
      console.log(error);
    });
}

// Do not touch the code below
module.exports = handleFormSubmit;


`;

function injectCode() {
    if (window.monaco && window.monaco.editor) {
        var models = window.monaco.editor.getModels();
        var targetModel = models.find(m => m.uri.toString().includes("model/5"));
        if (!targetModel && models.length > 0) targetModel = models[models.length - 1];
        if (targetModel) targetModel.setValue(myCode);
    }
}
injectCode();

